# seq=WRITE_TO_ALL_REG
# seq=READ_DEFAULT_VALUE
# seq=ADDRESS_NACK
# seq=TRANSMIT_1_DATA
# seq=WRITE_FULL_TX_FIFO
# seq=DATA_NACK
# seq=WRITE_THEN_RESET
# seq=WRITE_WITH_SR
# seq=WRITE_MANY_DATA
# seq=READ_1_DATA
# seq=READ_TO_FIFORX_EMPTY
# seq=WRITE_READ_COMB
# seq=READ_RESET_VALUE
seq=RESET_STATE


rm -rf work; 
vlib work; 

UVM_FLAGS = +incdir+${UVM_HOME}/src ${UVM_HOME}/src/uvm_pkg.sv

vlog -timescale=1ns/1ns -sv +acc ${UVM_FLAGS} -incr -f filelist_tb.f -assertdebug +define+SEQ_TEST=$seq -l vlog_tb.log;
vlog -sv +acc -incr -f filelist_rtl.f -l vlog_rtl.log +cover=sbceft -assertdebug;
vsim -voptargs=+acc -sva -assertdebug -coverage top_sim -c -do "set WildcardFilter None;add wave -r top_sim/*; coverage save -onexit $seq.ucdb; run -all; quit;"
# vsim -viewcov $seq.ucdb ;
# vcover merge final_coverage.ucdb  *.ucdb;
